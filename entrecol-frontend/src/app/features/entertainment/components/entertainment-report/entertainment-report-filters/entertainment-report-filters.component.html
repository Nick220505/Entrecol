<div class="form-row">
  <mat-form-field appearance="outline">
    <mat-label>Fecha Inicial</mat-label>
    <input
      matInput
      [matDatepicker]="startPicker"
      [ngModel]="entertainmentReportService.startDate()"
      (ngModelChange)="entertainmentReportService.startDate.set($event)"
    />
    <mat-datepicker-toggle
      matSuffix
      [for]="startPicker"
    ></mat-datepicker-toggle>
    <mat-datepicker #startPicker></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Fecha Final</mat-label>
    <input
      matInput
      [matDatepicker]="endPicker"
      [ngModel]="entertainmentReportService.endDate()"
      (ngModelChange)="entertainmentReportService.endDate.set($event)"
    />
    <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
    <mat-datepicker #endPicker></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Top N Libros</mat-label>
    <input
      matInput
      type="number"
      min="1"
      [ngModel]="entertainmentReportService.topN()"
      (ngModelChange)="entertainmentReportService.topN.set($event)"
    />
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Cantidad de Géneros</mat-label>
    <input
      matInput
      type="number"
      min="1"
      [ngModel]="entertainmentReportService.genreCount()"
      (ngModelChange)="entertainmentReportService.genreCount.set($event)"
    />
  </mat-form-field>
</div>

<div class="form-row">
  <mat-slide-toggle
    [ngModel]="entertainmentReportService.moviesByGenreAscending()"
    (ngModelChange)="
      entertainmentReportService.moviesByGenreAscending.set($event)
    "
  >
    Ordenar Películas por Género Ascendente
  </mat-slide-toggle>

  <mat-slide-toggle
    [ngModel]="entertainmentReportService.topRatedBooksAscending()"
    (ngModelChange)="
      entertainmentReportService.topRatedBooksAscending.set($event)
    "
  >
    Ordenar Top Libros Ascendente
  </mat-slide-toggle>

  <mat-slide-toggle
    [ngModel]="entertainmentReportService.topBottomBooksByYearAscending()"
    (ngModelChange)="
      entertainmentReportService.topBottomBooksByYearAscending.set($event)
    "
  >
    Ordenar Libros por Año Ascendente
  </mat-slide-toggle>

  <mat-slide-toggle
    [ngModel]="entertainmentReportService.moviesByGenreCountAscending()"
    (ngModelChange)="
      entertainmentReportService.moviesByGenreCountAscending.set($event)
    "
  >
    Ordenar Películas por Cantidad de Géneros Ascendente
  </mat-slide-toggle>
</div>

<div class="actions">
  <button
    mat-raised-button
    color="primary"
    (click)="onSubmit()"
    [disabled]="!isValid()"
  >
    Generar Reporte
  </button>
  <button
    mat-raised-button
    color="accent"
    (click)="onExportPdf()"
    [disabled]="!isValid() || entertainmentReportService.pdfExporting()"
  >
    {{
      entertainmentReportService.pdfExporting()
        ? "Exportando..."
        : "Exportar PDF"
    }}
  </button>
</div>
